1. 列出程式碼中的所有函式（使用 -def 後綴標示）和非 class 或 def 內的變數（包括全域變數和局部變數）。對於迴圈或條件語句中的變數也一併列出。
2. 逐項檢查上述所有變數和函式的相互依賴性，並確保沒有遺漏任何相關的變數和函式。標示它們之間的相互關係，以確保依賴性無臆測。
3. 列出所有變數和函式的具體相互關聯性。
4. 根據這些結果，使用 Mermaid 繪製變數和函式的完整依賴關係網路圖。此圖表必須涵蓋所有清單中的變數和函式。
5. 在圖表中，以 `-def` 後綴標示函式名，並以 `-class` 後綴標示類別名（如有類別）。確保標示中無空格。
6. 請附上線上可查看 Mermaid 圖表的連結。
